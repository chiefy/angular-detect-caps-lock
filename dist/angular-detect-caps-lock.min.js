/**
 * angular-detect-caps-lock v0.0.1
 * @link https://github.com/chiefy/angular-detect-caps-lock
 * @license MIT
 */

(function(ng) {
	"use strict";
!function(a){"use strict";var b=function(a){return addEventListener||a}(function(a,b){this.attachEvent("on"+a,b)}),c=function(a){return removeEventListener||a}(function(a,b){this.detachEvent("on"+a,b)}),d=function(a,b,c,d,e){function f(a){var b=a||window.event,d=b.charCode||b.keyCode,h=b.shiftKey;123>d&&d>96?(e("keypress",f),g(h)):!(91>d&&d>64)||c&&h||(e("keypress",f),g(!h))}function g(c){if(a!==c){for(var d=b.length,e=0;d>e;)b[e++](c);h.status=a=c}}var h="object"==typeof exports?exports:{};if(h.status=a,h.observe=function(a){b.push(a)},d("focus",function(){d("keypress",f)}),c)d("keydown",function(a){var b=a||window.event;20===b.keyCode&&g(!0)}),d("keyup",function(a){var b=a||window.event;20===b.keyCode&&g(!1)});else{var i=!1;d("keydown",function(b){var c=b||window.event;i||20!==c.keyCode||(g(!a),i=!0)}),d("keyup",function(a){var b=a||window.event;i&&20===b.keyCode&&(i=!1)})}return h}(!1,[],/Mac|iPad|iPhone|iPod/.test(navigator.platform),b,c);a.module("chiefy.detect-caps-lock",[]).run(function(a,b){a.caps_state=!1,angular.element(b).bind("keydown keypress",function(){a.caps_state=d.status,a.$apply()})})}(window.angular);